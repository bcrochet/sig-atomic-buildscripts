{
    "comment": "CentOS Atomic host, 4wk build",

    "osname": "centos-atomic-host",
    "ref": "centos-atomic-host/7/x86_64/standard",

    "repos": ["CentOS-Base", "CentOS-updates", "CentOS-extras",
	      "virt7-docker-el-candidate", "atomic7-testing",
              "rhel-atomic-rebuild", "CentOS-CR"],

    "selinux": true,

    "bootstrap_packages": ["filesystem", "glibc", "nss-altfiles", "shadow-utils"],

    "install-langs": ["en_US"],

    "documentation": false,

    "initramfs-args": ["--no-hostonly", "--add", "iscsi"],

    "postprocess-script": "treecompose-post.sh",

    "etc-group-members": ["wheel", "docker"],

    "ignore-removed-users": ["root"],
    "ignore-removed-groups": ["root"],
    "check-passwd": { "type": "file", "filename": "passwd" },
    "check-groups": { "type": "file", "filename": "group" },

    "packages": ["atomic",
                 "runc",
		 "systemd", "kernel", "rpm-ostree",
		 "dracut-network",
		 "biosdevname",
		 "coreutils",
		 "lvm2",
		 "grub2", "grub2-efi", "ostree-grub2",
		 "efibootmgr", "shim",
		 "e2fsprogs", "xfsprogs",
		 "mdadm",
		 "docker",
		 "docker-latest",
		 "docker-lvm-plugin",
		 "docker-novolume-plugin",
		 "selinux-policy-targeted",
		 "sssd",
		 "cloud-init",
		 "cloud-utils-growpart",
		 "tar", "xz", "gzip", "bzip2",
		 "less",
		 "kexec-tools",
		 "iscsi-initiator-utils",
		 "bridge-utils",
                 "nfs-utils",
		 "subscription-manager",
		 "subscription-manager-plugin-ostree",
		 "subscription-manager-plugin-container",
		 "openssh-server", "openssh-clients",
		 "chrony",
		 "logrotate",
		 "passwd",
                 "iptables-services",
		 "NetworkManager", "vim-minimal", "nano",
		 "sudo",
		 "tuned", "tuned-profiles-atomic",
		 "kubernetes", "etcd",
		 "flannel",
		 "bubblewrap",
		 "fuse",
		 "irqbalance",
		 "bash-completion",
		 "rsync", "tmux",
		 "net-tools", "nmap-ncat",
		 "bind-utils",
		 "authconfig",
		 "policycoreutils-python",
		 "cockpit-shell",
		 "cockpit-bridge",
                 "cockpit-docker",
                 "cockpit-ostree",
		 "setools-console",
                 "stub-redhat-lsb-core-only-for-ceph",
                 "ceph-common", "device-mapper-multipath",
                 "sg3_utils", "glusterfs-fuse",
         "ceph-mon",
         "ceph-radosgw"
         "openstack-aodh-api",
         "openstack-aodh-notifier",
         "openstack-aodh-evaluator",
         "openstack-aodh-listener",
         "openstack-barbican-api",
         "openstack-ceilometer-api",
         "openstack-ceilometer-central",
         "openstack-ceilometer-collector",
         "openstack-ceilometer-notification",
         "ceph",
         "ceph",
         "certmonger",
         "openstack-cinder",
         "fence-agents-all",
         "fence-virt",
         "fluentd",
         "openstack-glance",
         "openstack-gnocchi-api",
         "openstack-gnocchi-indexer-sqlalchemy",
         "openstack-gnocchi-carbonara",
         "openstack-gnocchi-statsd",
         "openstack-gnocchi-metricd",
         "haproxy",
         "openstack-heat-api-cfn",
         "openstack-heat-api-cloudwatch",
         "openstack-heat-api",
         "openstack-heat-engine",
         "openstack-dashboard",
         "openstack-ironic-api",
         "openstack-ironic-conductor",
         "iscsi-initiator-utils",
         "openstack-keystone",
         "openstack-manila",
         "openstack-manila-share",
         "mariadb",
         "mariadb-galera-server",
         "memcached",
         "mongodb",
         "mongodb-server",
         "openstack-neutron-metering-agent",
         "openstack-neutron-lbaas",
         "openstack-neutron-ml2",
         "openstack-neutron-openvswitch",
         "openstack-neutron",
         "python-networking-odl",
         "nfs-utils",
         "openstack-nova-api",
         "openstack-nova-cert",
         "openstack-nova-conductor",
         "openstack-nova-console",
         "openstack-nova-novncproxy",
         "openstack-nova-scheduler",
         "ntp",
         "python-openstackclient",
         "python-memcached",
         "pacemaker",
         "pcs",
         "rabbitmq-server",
         "python-redis",
         "redis",
         "rubygem-fluent-plugin-add",
         "openstack-sahara",
         "openstack-sahara-api",
         "openstack-sahara-engine",
         "sensu",
         "openstack-trove-api",
         "openstack-trove-conductor",
         "openstack-trove-taskmanager",
         "openstack-swift-account",
         "openstack-swift-container",
         "openstack-swift-object",
         "openstack-swift-plugin-swift3",
         "openstack-swift-proxy",
         "targetcli",
         "scsi-target-utils",
         "xinetd",
         "openstack-zaqar",
         "openstack-ceilometer-compute",
         "ceph",
         "fluentd",
         "libvirt",
         "openstack-neutron",
         "openstack-neutron-ml2",
         "openstack-neutron-openvswitch",
         "openstack-neutron",
         "nfs-utils",
         "openstack-nova-compute",
         "ntp",
         "pacemaker-remote",
         "rubygem-fluent-plugin-add",
         "sensu",
         "python-ipaddr",
         "ceph-osd",
         "ceph",
         "openstack-cinder",
         "targetcli",
         "scsi-target-utils"
     ],

    "remove-from-packages": [["yum", "/usr/bin/.*"],
			     ["kernel", "/lib/modules/.*/drivers/gpu"],
			     ["linux-firmware", "/usr/lib/firmware/radeon/.*"],
			     ["filesystem", "/usr/share/backgrounds"]],

    "units": ["docker.service", "tuned.service", "docker-storage-setup.service"],

    "default_target": "multi-user.target"
}
